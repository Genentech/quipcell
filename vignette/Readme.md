
Download the h5ad for the HLCA core dataset from:

https://cellxgene.cziscience.com/collections/6f6d381a-7701-4781-935c-db10d30de293

Create a `data/` subfolder here, and move the h5ad in there, renaming
it to `hlca_orig.h5ad`.

```
mkdir -p data/
cd data/

# autogenerated curl command from HLCA website
curl -o local.h5ad ...

mv local.h5ad hlca_orig.h5ad
```

Create a conda env, install scanpy, then install this package:

```
conda create -n scDensQP
conda activate scDensQP
conda install -c conda-forge scanpy python-igraph leidenalg
pip install ..
```

Also install ipykernel and add it to your jupyter:

```
conda install ipykernel
python -m ipykernel install --name scdensqp
```

(Note: May need to add --user flag to ipykernel install, depending on
OS)


Next, run
```
python preprocess.py
```
Which loads the full HLCA, and then performs some processing to make a
smaller dataset that is easier to work with in memory.

Note that loading the full HLCA takes a lot of memory. I was able to
run the preprocessing script on my laptop when I closed all other
applications, but swap did get a hit, and your mileage may vary.

After running the preprocessing script, the dataset is much smaller,
and the jupyter notebook should be runnable on most laptops.
